<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="ico.png">

    <title>ꆰꀎꍟꍟꈤ 𝒮𝓊𝒽𝒶𝓃𝒾</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Architects+Daughter&display=swap');

        * {
            margin: 0;
            color: rgba(0, 0, 0, 0.596);
            font-family: 'Architects Daughter', cursive;
        }

        ::selection {
            background-color: black;
            color: pink;
        }

        #main {
            min-height: 100vh;
        }

        header {
            height: 100vh;
            width: 100%;
            background-image: linear-gradient(rgba(0, 0, 0, 0.418), rgba(199, 136, 136, 0.3)), url(background.jpg);
            background-repeat: no-repeat;
            background-size: cover;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #page1,
        #page2,
        #page3,
        #page4 {
            height: 100vh;
            width: 100%;
            justify-content: center;
            align-items: center;
            display: flex;
            flex-direction: column;
            background-repeat: no-repeat;
            background-size: cover;
            /* mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 1) 10%, rgba(0, 0, 0, 1) 90%, rgba(0, 0, 0, 0)); */
        }

        #page1 #container {
            text-align: center;
            display: block;
        }

        #page1 #container h2 {
            padding-bottom: 15vw;
            font-size: 2rem;
        }

        #page1 #container p {
            font-size: 1.5rem;
        }

        #page2 #container-2 {
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: left;
            flex-direction: row;
            backdrop-filter: brightness(40%);
            padding: 10%;
            margin-left: 20%;
            margin-right: 20%;
            box-sizing: border-box;
        }

        #page2 #container-2 p {
            color: white;
            display: flex;
            font-size: 2rem;
        }

        #page3 ul {
            scale: 1.5;
            padding: 10% 0;
        }

        li {
            font-weight: 600;
        }

        footer {
            height: 100vh;
            width: 100%;
            background-image: url('background2.jpg');
            background-size: cover;
            background-repeat: no-repeat;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        footer a {
            text-decoration: overline;
            position: relative;
            top: 20vh;
            padding-top: 100%;
        }

        #video-container {
            display: flex;
            align-items: center;
            justify-content: center;
            padding-right: 40vw;
            scale: 0.9;
            background-image: url(card.png);
            background-repeat: no-repeat;
            background-size: contain;
            rotate: -4deg;
        }

        #videoElement {
            scale: 0.5;
            rotate: +2deg;
            margin-right: 23%;
        }

        #cursor {
            position: fixed;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: rgba(255, 192, 203, 0.219);
            pointer-events: none;
            z-index: 9999;
            backdrop-filter: blur(6px);
        }

        body {
            cursor: none;
            margin: 0;
            overflow: hidden;
        }

        .star {
            position: absolute;
        }
    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/locomotive-scroll@3.5.4/dist/locomotive-scroll.min.css">
</head>

<body>
    <div id="cursor"></div>

    <div id="main">
        <header>
            <h1 id="header-text">Welcome to the Kingdom of 𝕼𝖚𝖊𝖊𝖓 𝒮𝓊𝒽𝒶𝓃𝒾</h1>
        </header>
        <div id="page1" style="background-image: url(background1.jpg);">
            <div id="container">
                <h2 id="person">ꆰꀎꍟꍟꈤ 𝒮𝓊𝒽𝒶𝓃𝒾 -҉ An Amazing Person</h2>
                <p class="person-p-1" style="padding-top: 10vw;">𝒬𝓊𝑒𝑒𝓃 𝒮𝓊𝒽𝒶𝓃𝒾 is an extraordinary individual,
                    embodying kindness, intelligence, and grace.
                </p>
                <p class="person-p-2">This website is dedicated to celebrating her wonderful qualities and contributions
                    to the world.</p>
                <p>----------------------------------------</p>
                <p class="person-p-nr">⁽ˢʰᵉ'ˢ ⁿᵒᵗ ʳᵉᵃˡ⁾</p>

            </div>
        </div>
        <div id="page2" style="background-image: url('background3.jpg');">
            <div id="container-2">
                <p id="question">WHO IS QUEEN?</p>
            </div>

        </div>
        <div id="page3" style="background-image: url('background5.jpg');">
            <div id="container-3">
                <h1>
                    E̲x̲q̲u̲i̲s̲i̲t̲e̲ ᴛʀᴀɪᴛꜱ That Ꭰҽƒìղҽ 𝒮𝓊𝒽𝒶𝓃𝒾
                </h1>
                <ul>
                    <li>Her Existence:</li>
                    <p>𝒮𝓊𝒽𝒶𝓃𝒾's presence brightens up every space she enters, radiating warmth and positivity.</p>
                    <li>Her Personality:</li>
                    <p>Her charismatic and charming 𝖕𝖊𝖗𝖘𝖔𝖓𝖆𝖑𝖎𝖙𝖞 captivates hearts effortlessly.</p>
                    <li>Her Sense of Humanity:</li>
                    <p>𝒮𝓊𝒽𝒶𝓃𝒾's deep empathy and compassion towards others define her remarkable sense of
                        humanity.</p>
                    <li>Her Sense of Care:</li>
                    <p>She possesses an innate ability to care for those around her, 𝔫𝔲𝔯𝔱𝔲𝔯𝔦𝔫𝔤 relationships
                        with genuine
                        warmth.</p>
                    <li>A Very Admirable Human Being:</li>
                    <p>𝒮𝓊𝒽𝒶𝓃𝒾's admirable qualities inspire those around her, making her a role model for many.
                    </p>
                    <li>Her Height (5"1'):</li>
                    <p>Standing tall at 5"1', her stature symbolizes the vastness of her heart and spirit.</p>
                    <li>She's Perfect! A Perfect Queen:</li>
                    <p>𝒮𝓊𝒽𝒶𝓃𝒾 embodies perfection in every aspect, truly epitomizing a flawless queen.</p>
                </ul>
                <h1 style="text-align: center; font-size: 5vw;">
                    ¸„.-•~¹°”ˆ˜¨♥¨˜ˆ”°¹~•-.„¸
                </h1>
            </div>

        </div>
        <div id="page4" style="background-image: url('background4.jpg');">
            <div id="video-container">
                <video id="videoElement" autoplay></video>
            </div>
        </div>
        <footer>
            <p> <a href="" id="footer-text"> Created with admiration for Queen Suhani </a></p>
        </footer>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/locomotive-scroll@3.5.4/dist/locomotive-scroll.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/TextPlugin.min.js"></script>
    <script>

        // navigator.mediaDevices.getUserMedia({ video: true })
        //     .then(function (stream) {
        //         var videoElement = document.getElementById('videoElement');
        //         videoElement.srcObject = stream;

        //     })
        //     .catch(function (err) {
        //         console.log('Error: ' + err);
        //         const body = document.body;
        //         const overlay = document.createElement("div");
        //         overlay.style.position = "fixed";
        //         overlay.style.top = "0";
        //         overlay.style.left = "0";
        //         overlay.style.width = "100%";
        //         overlay.style.height = "100%";
        //         overlay.style.backgroundColor = "rgba(0, 0, 0, 0.8)"; // Semi-transparent white overlay
        //         overlay.style.zIndex = "9999"; // Ensure it's on top of other elements
        //         overlay.style.display = "flex";
        //         overlay.style.justifyContent = "center";
        //         overlay.style.alignItems = "center";
        //         overlay.style.backdropFilter = "blur(10px)";

        //         const message = document.createElement("div");
        //         message.innerText = "Please enable camera access to this website.";
        //         message.style.filter = "white";
        //         message.style.padding = "20px";
        //         message.style.borderRadius = "10px";
        //         message.style.backgroundColor = "white";
        //         message.style.fontWeight = "500";

        //         overlay.appendChild(message);
        //         document.body.appendChild(overlay);

        //     });

        function checkCameraPermission() {
            navigator.mediaDevices.getUserMedia({ video: true })
                .then(function (stream) {
                    var videoElement = document.getElementById('videoElement');
                    videoElement.srcObject = stream;
                    const overlay = document.getElementById('cameraOverlay');
                    if (overlay) {
                        overlay.remove();
                    }
                })
                .catch(function (err) {
                    console.log('Error: ' + err);
                    const body = document.body;
                    if (!document.getElementById('cameraOverlay')) {
                        const overlay = document.createElement("div");
                        overlay.id = "cameraOverlay";
                        overlay.style.position = "fixed";
                        overlay.style.top = "0";
                        overlay.style.left = "0";
                        overlay.style.width = "100%";
                        overlay.style.height = "100%";
                        overlay.style.backgroundColor = "rgba(0, 0, 0, 0.8)";
                        overlay.style.zIndex = "9999";
                        overlay.style.display = "flex";
                        overlay.style.justifyContent = "center";
                        overlay.style.alignItems = "center";
                        overlay.style.backdropFilter = "blur(10px)";

                        const message = document.createElement("div");
                        if (err.name === 'NotAllowedError') {
                            message.innerText = "You denied camera access. Please enable camera access to this website.";
                        } else {
                            message.innerText = "Please enable camera access to this website.";
                        }
                        message.style.color = "black";
                        message.style.padding = "20px";
                        message.style.borderRadius = "10px";
                        message.style.backgroundColor = "white";
                        message.style.fontWeight = "500";

                        overlay.appendChild(message);
                        document.body.appendChild(overlay);
                    }
                });
        }

        function checkInitialPermission() {
            navigator.permissions.query({ name: 'camera' })
                .then(permissionStatus => {
                    if (permissionStatus.state === 'granted') {
                        // Camera access already granted
                        checkCameraPermission();
                    } else if (permissionStatus.state === 'prompt') {
                        // Permission prompt is displayed
                        const overlay = document.createElement("div");
                        overlay.id = "cameraOverlay";
                        overlay.style.position = "fixed";
                        overlay.style.top = "0";
                        overlay.style.left = "0";
                        overlay.style.width = "100%";
                        overlay.style.height = "100%";
                        overlay.style.backgroundColor = "rgba(0, 0, 0, 0.8)";
                        overlay.style.zIndex = "9999";
                        overlay.style.display = "flex";
                        overlay.style.justifyContent = "center";
                        overlay.style.alignItems = "center";
                        overlay.style.backdropFilter = "blur(10px)";

                        const message = document.createElement("div");
                        message.innerText = "Please grant camera access to this website.";
                        message.style.color = "black";
                        message.style.padding = "20px";
                        message.style.borderRadius = "10px";
                        message.style.backgroundColor = "white";
                        message.style.fontWeight = "500";

                        overlay.appendChild(message);
                        document.body.appendChild(overlay);
                    } else {
                        // Camera access not granted
                        checkCameraPermission();
                    }
                })
                .catch(err => {
                    console.error('Error querying permission:', err);
                });
        }

        checkInitialPermission();
        setInterval(checkCameraPermission, 2500);



        document.addEventListener("DOMContentLoaded", function () {

            const locoScroll = new LocomotiveScroll({
                el: document.querySelector("#main"),
                smooth: true,
                tablet: { smooth: true },
                smartphone: { smooth: true }
            });

            locoScroll.on("scroll", ScrollTrigger.update);

            ScrollTrigger.scrollerProxy("#main", {
                scrollTop(value) {
                    return arguments.length
                        ? locoScroll.scrollTo(value, 0, 0)
                        : locoScroll.scroll.instance.scroll.y;
                },
                getBoundingClientRect() {
                    return {
                        top: 0,
                        left: 0,
                        width: window.innerWidth,
                        height: window.innerHeight
                    };
                }
            });

            gsap.from("#header-text", {
                text: "HELLO!",
                delay: 2,
                repeat: -1,
                repeatDelay: 2,
                yoyo: true,
                duration: 1,
                ease: "sine.out"
            });
            gsap.to("#footer-text", {
                scrollTrigger: {
                    trigger: "footer",
                    start: "+=100% center",
                    end: "bottom top",
                    scroller: "#main",
                    ease: "power1.in",
                },
                delay: 2,
                duration: 1,
                yoyo: true,
                repeat: -1,
                repeatDelay: 2,
                text: "googoogaagaa <3",
            });


            gsap.from("#person", {
                scrollTrigger: {
                    trigger: "#page1",
                    scroller: "#main",
                    scrub: true,
                    pin: true,
                    start: "top top",
                    end: "+=100%"
                },
                text: "ꆰꀎꍟꍟꈤ 𝒮𝓊𝒽𝒶𝓃𝒾",
                ease: "power4.Out",
            });

            gsap.from(".person-p-1", {
                scrollTrigger: {
                    trigger: ".person-p-1",
                    scroller: "#main",
                    start: "top top",
                    scrub: 2,
                    ease: "power4.in",
                },
                x: 200,
                opacity: 0,
            });
            gsap.from(".person-p-2", {
                scrollTrigger: {
                    trigger: ".person-p-2",
                    scroller: "#main",
                    start: "top top",
                    scrub: 3,
                    ease: "power4.in",
                },
                delay: 1,
                x: -50,
                opacity: 0,
            });
            gsap.from(".person-p-nr", {
                scrollTrigger: {
                    trigger: ".person-p-nr",
                    scroller: "#main",
                    start: "top top",
                    scrub: true,
                    ease: "power1.out",
                },
                scale: 0.3,
            });
            gsap.to("#question", {
                scrollTrigger: {
                    trigger: "#page2",
                    scroller: "#main",
                    scrub: 2,
                    pin: true,
                    start: "top top",
                    end: "+=100%",
                },
                text: "Queen, is like a ray of sunshine on the darkest of days, with a heart so pure it radiates warmth wherever she goes. Her kindness knows no bounds, and her laughter is contagious. She's always there with a comforting word or a helping hand, making every moment brighter just by being herself. Queen isn't just a Queen; she's a treasure, a rare gem in a world of ordinary stones. I feel incredibly lucky to have her in my life, and I can't help but share her preciousness with everyone I know.",
                ease: "power4.Out",
            });

            gsap.from("ul li", {
                scrollTrigger: {
                    trigger: "#page3",
                    scroller: "#main",
                    scrub: true,
                    pin: true,
                    start: "top top",
                    end: "+=100%",
                },
                opacity: 0,
                y: 50,
                stagger: 0.2,
                duration: 2,
                ease: "power2.out",
            });


            const cursor = document.getElementById('cursor');
            let cursorX = 0;
            let cursorY = 0;
            let mouseX = 0;
            let mouseY = 0;
            let cursorVX = 0;
            let cursorVY = 0;

            document.addEventListener('mousemove', e => {
                mouseX = e.clientX;
                mouseY = e.clientY;
            });

            const updateCursor = () => {
                const deltaX = mouseX - cursorX;
                const deltaY = mouseY - cursorY;
                cursorVX = 0.05 * deltaX + 0.2 * cursorVX;
                cursorVY = 0.05 * deltaY + 0.2 * cursorVY;
                cursorX += cursorVX;
                cursorY += cursorVY;
                cursor.style.transform = `translate(${cursorX}px, ${cursorY}px)`;
                requestAnimationFrame(updateCursor);
            };

            updateCursor();

            const state = { x: 0, y: 0 };
            const vh = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);
            const dist_to_draw = 50;
            const delay = 10;
            const fsize = ['1.1rem', '1.4rem', '.8rem', '1.7rem'];
            const colors = ['#E23636', '#F9F3EE', '#E1F8DC', '#B8AFE6', '#AEE1CD', '#5EB0E5'];
            const emojis = ['&#10020;', '&#10021;', '&#10022;', '&#10023;', '&#10024;', '&#10025;', '&#10026;'];

            const rand = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;
            const selRand = (o) => o[rand(0, o.length - 1)];
            const distanceTo = (x1, y1, x2, y2) => Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);
            const shouldDraw = (x, y) => distanceTo(state.x, state.y, x, y) >= dist_to_draw;

            const addStr = (x, y) => {
                const str = document.createElement("div");
                str.innerHTML = selRand(emojis);
                str.className = 'star';
                str.style.top = `${y + rand(-20, 20)}px`;
                str.style.left = `${x}px`;
                str.style.color = selRand(colors);
                str.style.fontSize = selRand(fsize);
                document.body.appendChild(str);

                const fs = 10 + 5 * parseFloat(getComputedStyle(str).fontSize);

                gsap.to(str, {
                    duration: delay,
                    y: `${(y + fs) > vh ? vh - y : fs}px`,
                    opacity: 0,
                    rotationX: rand(1, 500),
                    rotationY: rand(1, 500),
                    ease: "expo.out",
                    onComplete: () => {
                        str.remove();
                    }
                });
            };

            addEventListener("mousemove", ({ clientX, clientY }) => {
                if (shouldDraw(clientX, clientY)) {
                    addStr(clientX, clientY);
                    state.x = clientX;
                    state.y = clientY;
                }
            });


            ScrollTrigger.addEventListener("refresh", () => locoScroll.update());
            ScrollTrigger.refresh();

        });
    </script>
</body>

</html>